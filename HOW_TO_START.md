# 如何自动开始完全自动化构建

## 🚀 快速开始

### 方法一：在 Cursor 中一键启动（最简单）⭐

直接在 Cursor 聊天中输入：

```
自动修复构建错误直到成功
```

或者：

```
帮我实现完全自动化构建，自动检查构建状态，如果失败就分析错误并修复，重复直到编译成功
```

**就这么简单！** AI 会自动处理所有步骤。

---

### 方法二：使用启动脚本

#### 选项 A: 自动提交并启动

```bash
./scripts/start-auto-build.sh
```

这个脚本会：
1. 自动提交未提交的更改
2. 推送到远程
3. 提示你在 Cursor 中使用自动化命令

#### 选项 B: 使用 npm 命令

```bash
npm run auto-build
```

---

### 方法三：完全自动化脚本（需要 GitHub Token）

```bash
# 设置 GitHub Token
export GITHUB_TOKEN=your_token

# 运行完全自动化脚本
npm run auto-build "你的提交信息"
```

这个脚本会：
- ✅ 自动提交代码
- ✅ 自动推送
- ✅ 自动检查构建状态
- ✅ 自动等待构建完成
- ✅ 如果失败，提示你修复（或集成 Cursor AI）

---

## 📋 完整启动流程

### 步骤 1: 准备代码

确保你的代码已经准备好：

```bash
# 检查状态
git status

# 如果有更改，可以手动提交，或者让脚本自动提交
```

### 步骤 2: 启动自动化

#### 在 Cursor 中（推荐）：

```
自动修复构建错误直到成功
```

#### 或使用脚本：

```bash
# 方式 1: 快速启动脚本
./scripts/start-auto-build.sh

# 方式 2: npm 命令
npm run auto-build

# 方式 3: 直接运行脚本
node scripts/auto-build-until-success.js "你的提交信息"
```

### 步骤 3: AI 自动处理

AI 会自动：
1. 检查构建状态
2. 获取错误日志（如果失败）
3. 分析并修复错误
4. 提交并推送修复
5. 重复直到成功

---

## 🎯 不同场景的启动方式

### 场景 1: 刚写完代码，想自动构建

```bash
# 1. 提交代码（如果有未提交的）
git add -A
git commit -m "你的提交信息"
git push origin dev

# 2. 在 Cursor 中说：
"自动修复构建错误直到成功"
```

### 场景 2: 代码已推送，想检查并修复

直接在 Cursor 中说：

```
"检查最新构建状态，如果失败就自动修复直到成功"
```

### 场景 3: 完全自动化（从提交到成功）

```bash
# 运行启动脚本
./scripts/start-auto-build.sh

# 然后在 Cursor 中说：
"自动修复构建错误直到成功"
```

---

## ⚙️ 配置自动启动

### 创建别名（可选）

在 `~/.zshrc` 或 `~/.bashrc` 中添加：

```bash
alias auto-build='cd /Users/apple/code/winunlock && ./scripts/start-auto-build.sh'
```

然后就可以在任何地方运行：

```bash
auto-build
```

### 创建 Cursor 快捷命令

在 Cursor 设置中创建自定义命令，或者直接使用聊天命令。

---

## 🔄 自动化工作流示例

### 示例 1: 最简单的启动

```
你: "自动修复构建错误直到成功"

AI: [开始自动化]
AI: "检查构建状态..."
AI: "构建失败，正在修复..."
AI: "✅ 构建成功！"
```

### 示例 2: 使用脚本启动

```bash
$ ./scripts/start-auto-build.sh

🚀 启动完全自动化构建流程...
📝 发现未提交的更改，正在提交...
✅ 代码已提交
🚀 推送到远程分支...
✅ 代码已推送

💡 现在请在 Cursor 聊天中输入：
   '自动修复构建错误直到成功'
```

然后在 Cursor 中：

```
你: "自动修复构建错误直到成功"
AI: [自动处理...]
```

---

## 📊 启动方式对比

| 方式 | 优点 | 缺点 | 推荐度 |
|------|------|------|--------|
| Cursor 自然语言 | 最简单，AI 自动处理 | 需要手动输入命令 | ⭐⭐⭐⭐⭐ |
| 启动脚本 | 自动提交推送 | 仍需在 Cursor 中使用 | ⭐⭐⭐⭐ |
| 完全自动化脚本 | 完全自动化 | 需要 GitHub Token | ⭐⭐⭐ |

---

## 🎯 推荐流程

**最佳实践**：

1. **写代码**
2. **在 Cursor 中说**：`"自动修复构建错误直到成功"`
3. **完成！** AI 会自动处理一切

就是这么简单！

---

## 🚨 故障排除

### 如果自动启动失败

1. 检查 Git 状态：
   ```bash
   git status
   ```

2. 手动提交：
   ```bash
   git add -A
   git commit -m "你的提交信息"
   git push origin dev
   ```

3. 在 Cursor 中启动：
   ```
   "自动修复构建错误直到成功"
   ```

### 如果脚本无法运行

```bash
# 添加执行权限
chmod +x scripts/start-auto-build.sh
chmod +x scripts/quick-auto-fix.sh
```

---

**现在你知道如何自动开始了！最简单的方式就是在 Cursor 中说：**

```
自动修复构建错误直到成功
```

🎉

